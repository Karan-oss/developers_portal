
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Pasarpolis Developer Guide</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;ruby&quot;,&quot;python&quot;,&quot;java&quot;,&quot;go&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#initialization" class="toc-h1 toc-link" data-title="Initialization">Initialization</a>
          </li>
          <li>
            <a href="#policy" class="toc-h1 toc-link" data-title="Policy">Policy</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-policy" class="toc-h2 toc-link" data-title="Create Policy">Create Policy</a>
                  </li>
                  <li>
                    <a href="#get-policy-status" class="toc-h2 toc-link" data-title="Get Policy Status">Get Policy Status</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Pasarpolis developer guide. You can use our API to access API endpoints for policy.</p>

<p>We have language bindings in Shell, Ruby, and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='authentication'>Authentication</h1>
<p>We use HMAC based authetication behind the scenes.</p>

<p>You just need PartnerCode and PartnerSecret to get started. (details given in the Initialization section)</p>

<p>To know more about HMAC authentication click <a href="https://en.wikipedia.org/wiki/HMAC">here</a></p>
<h1 id='initialization'>Initialization</h1>
<blockquote>
<p>To initialize, use this code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'pasarpolis_sdk'</span>

<span class="no">PasarpolisSdk</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="o">&lt;</span><span class="no">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Host</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">pasapolis</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">Client</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="o">&lt;</span><span class="n">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Host</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.PasarpolisClient</span><span class="o">;</span>

<span class="n">PasarpolisClient</span><span class="o">.</span><span class="na">init</span><span class="o">(&lt;</span><span class="n">PartnerCode</span><span class="o">&gt;,</span> <span class="o">&lt;</span><span class="n">PartnerSecret</span><span class="o">&gt;,</span> <span class="o">&lt;</span><span class="n">Host</span><span class="o">&gt;);</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="s">"gitlab.com/pasarpolis/go-sdk"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="n">pasarpolis</span><span class="o">.</span><span class="n">InitClient</span><span class="p">(</span><span class="o">&lt;</span><span class="n">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span><span class="x"> </span><span class="o">&lt;</span><span class="n">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span><span class="x"> </span><span class="o">&lt;</span><span class="n">Host</span><span class="o">&gt;</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code>
<span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">Host</span><span class="o">&gt;</span><span class="p">)</span>

</code></pre>
<p>For Initilization you need PartnerCode, PartnerSecret and Host.</p>

<p><strong>PartnerCode</strong> (string)    : Provided by Pasarpolis for Authentication.</p>

<p><strong>PartnerSecret</strong> (string)  : Secret Key provided by Pasarpolis.</p>

<p><strong>Host</strong> (string)           : Fully qualified domain name as specified below.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Testing:    https://integrations-testing.pasarpolis.com</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Sandbox:    https://integrations-sandbox.pasarpolis.com</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Production: https://integrations.pasarpolis.com</p>

<aside class="notice">
Initialize the client before calling any functionality of SDK else it will raise error.<br/>
Please make sure you initialize client only once i.e. at start of your app else it will raise error.
</aside>
<h1 id='policy'>Policy</h1><h2 id='create-policy'>Create Policy</h2>
<blockquote>
<p>Example code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"pasarpolis_sdk"</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="o">=</span><span class="s2">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="kp">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="no">Pasarpolis</span><span class="o">::</span><span class="no">Policy</span><span class="p">.</span><span class="nf">create_policy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">reference_number</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">application_number</span>

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">pasarpolis</span> <span class="kn">import</span> <span class="n">Policy</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="n">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="n">create_policy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">reference_number</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">application_number</span><span class="p">)</span>


</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.models.Policy</span><span class="o">;</span>

<span class="k">try</span> <span class="o">{</span>
  <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"Jacob"</span><span class="o">);</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_property"</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>
  <span class="n">Policy</span> <span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="na">createPolicy</span><span class="o">(</span><span class="s">"travel-protection"</span><span class="o">,</span> <span class="n">params</span><span class="o">);</span>  
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">referenceNumber</span><span class="o">);</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">applicationNumber</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span>  <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Error Handling part</span>
<span class="o">}</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="n">pasarpolis_models</span><span class="x"> </span><span class="s">"gitlab.com/pasarpolis/go-sdk/models"</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
</span><span class="p">)</span><span class="x">


</span><span class="n">params</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{};</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="no">true</span><span class="x">
</span><span class="n">policy</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pasarpolis_models</span><span class="o">.</span><span class="n">CreatePolicy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span><span class="x"> </span><span class="n">params</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">referenceNumber</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">applicationNumber</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">Host</span><span class="o">&gt;</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">packageName</span> <span class="o">=</span> <span class="s1">'travel-protection'</span>
<span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"note"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"travel_destination"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">createPolicy</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">createPolicy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="nx">params</span><span class="p">)</span>

<span class="cm">/** It will give response as promise */</span> 
<span class="nx">createPolicy</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>

</code></pre>
<blockquote>
<p>The above code snippet returns would return:</p>
</blockquote>
<pre class="highlight plaintext"><code>d77d436ad9485b86b8a0c18c3d2f70f77a10c43d
APP-000000224

</code></pre>
<p>The above action will create a new policy</p>

<p>For policy creation you will need Product and Params as parameters</p>

<p>where:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>Product</strong> : Type of product for which policy is being created.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>Params</strong> : Product specific data to be sent.</p>

<aside class="notice">
Signature of every product specific data is provided <a href="https://gitlab.com/pasarpolis/pasarpolis-sdk-java/tree/master/product_type_doc"> here </a>
</aside>

<p>It will return a Policy object which contains:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>reference_number</strong> (string): Hexadecimal number provided by Pasarpolis for future reference.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>application_number</strong> (string): Number provided for future reference.</p>
<h2 id='get-policy-status'>Get Policy Status</h2>
<blockquote>
<p>Example code</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'pasarpolis_sdk'</span>


<span class="n">refs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="p">]</span>
<span class="n">policies</span> <span class="o">=</span> <span class="no">Pasarpolis</span><span class="o">::</span><span class="no">Policy</span><span class="p">.</span><span class="nf">get_policy_status</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">policies</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">pasarpolis</span> <span class="kn">import</span> <span class="n">Policy</span>


<span class="n">refs</span> <span class="o">=</span> <span class="p">[</span><span class="s">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="p">]</span>
<span class="n">policies</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="n">get_policy_status</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">policies</span><span class="p">)</span>

</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.models.Policy</span><span class="o">;</span>
<span class="k">try</span> <span class="o">{</span>  
  <span class="n">String</span><span class="o">[]</span> <span class="n">refs</span> <span class="o">=</span> <span class="o">{</span><span class="s">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="o">};</span>
  <span class="n">Policy</span><span class="o">[]</span> <span class="n">policies</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="na">getPolicyStatus</span><span class="o">(</span><span class="n">refs</span><span class="o">);</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policies</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span>  <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Error Handling part</span>
<span class="o">}</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="n">pasarpolis_models</span><span class="x"> </span><span class="s">"gitlab.com/pasarpolis/go-sdk/models"</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="n">String</span><span class="p">[]</span><span class="x"> </span><span class="n">refs</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="p">{</span><span class="s">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="p">};</span><span class="x">
</span><span class="n">policies</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">pasarpolis_models</span><span class="o">.</span><span class="n">GetPolicyStatus</span><span class="p">(</span><span class="n">refs</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policies</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s2">"DummyPartnerCode"</span><span class="p">,</span> <span class="s2">"DummyPartnerSecret"</span><span class="p">,</span> <span class="s2">"https://integrations.pasarpolis.com"</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">getPolicyStatus</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getPolicyStatus</span><span class="p">(</span><span class="s2">"48fc2801e487af79ef311621f63e4133c"</span><span class="p">)</span>

<span class="cm">/** It will give response as promise */</span> 
<span class="nx">getPolicyStatus</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>


</code></pre>
<blockquote>
<p>The above will return:</p>
</blockquote>
<pre class="highlight plaintext"><code>[ 
    { 
        ref: '48fc2801e487af79ef311621f63e4133c',
        application_no: 'APP-000000XXX',
        document_url: 'url',
        policy_no: 'XXX',
        status_code: 2,
        status: 'COMPLETED',
        issue_date: '2018-12-10 07:34:12' 
    } 
]
</code></pre>
<p>Get policy status will give status of the policy created by providing policy reference number. </p>

<p>It will return array of policies object being queried for.</p>

<p>where:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>ReferenceNumbers</strong> : An array of string containing reference numbers.</p>

<p>It will return an array of Policy objects. Each Policy object contains:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>reference_number</strong> (string): Hexadecimal number provided by Pasarpolis for future reference.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>application_number</strong> (string): Number provided for future reference.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>document_url</strong> (string): Url for policy document (if any).</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>policy_number</strong> (string): Number for policy.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>status</strong> (string): Status of a given policy.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>status_code</strong> (integer): Status code of a given policy.</p>
<h1 id='errors'>Errors</h1>
<p>Pasarpolis SDK uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request sucks</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified policy could not be found</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
