
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Pasarpolis Developer Guide</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;ruby&quot;,&quot;python&quot;,&quot;java&quot;,&quot;go&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#initialization" class="toc-h1 toc-link" data-title="Initialization">Initialization</a>
          </li>
          <li>
            <a href="#guide" class="toc-h1 toc-link" data-title="Guide">Guide</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#travel-protection" class="toc-h2 toc-link" data-title="Travel Protection">Travel Protection</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-references" class="toc-h1 toc-link" data-title="API References">API References</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#travel-protection-packages-api" class="toc-h2 toc-link" data-title="Travel Protection Packages API">Travel Protection Packages API</a>
                  </li>
                  <li>
                    <a href="#travel-protection-registration-api" class="toc-h2 toc-link" data-title="Travel Protection Registration API">Travel Protection Registration API</a>
                  </li>
                  <li>
                    <a href="#travel-protection-status-api" class="toc-h2 toc-link" data-title="Travel Protection Status API">Travel Protection Status API</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#policy" class="toc-h1 toc-link" data-title="Policy">Policy</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-policy" class="toc-h2 toc-link" data-title="Create Policy">Create Policy</a>
                  </li>
                  <li>
                    <a href="#get-policy-status" class="toc-h2 toc-link" data-title="Get Policy Status">Get Policy Status</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Pasarpolis developer guide. You can use our API to access API endpoints for policy.</p>

<p>We have language bindings in Shell, Ruby, and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='authentication'>Authentication</h1>
<p>We use HMAC based authetication behind the scenes.</p>

<p>You just need PartnerCode and PartnerSecret to get started. (details given in the Initialization section)</p>

<p>To know more about HMAC authentication click <a href="https://en.wikipedia.org/wiki/HMAC">here</a></p>
<h1 id='initialization'>Initialization</h1>
<blockquote>
<p>To initialize, use this code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'pasarpolis_sdk'</span>

<span class="no">PasarpolisSdk</span><span class="p">.</span><span class="nf">init</span><span class="p">(</span><span class="o">&lt;</span><span class="no">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="no">Host</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">pasapolis</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">Client</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="o">&lt;</span><span class="n">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Host</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.PasarpolisClient</span><span class="o">;</span>

<span class="n">PasarpolisClient</span><span class="o">.</span><span class="na">init</span><span class="o">(&lt;</span><span class="n">PartnerCode</span><span class="o">&gt;,</span> <span class="o">&lt;</span><span class="n">PartnerSecret</span><span class="o">&gt;,</span> <span class="o">&lt;</span><span class="n">Host</span><span class="o">&gt;);</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="s">"gitlab.com/pasarpolis/go-sdk"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="n">pasarpolis</span><span class="o">.</span><span class="n">InitClient</span><span class="p">(</span><span class="o">&lt;</span><span class="n">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span><span class="x"> </span><span class="o">&lt;</span><span class="n">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span><span class="x"> </span><span class="o">&lt;</span><span class="n">Host</span><span class="o">&gt;</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code>
<span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">Host</span><span class="o">&gt;</span><span class="p">)</span>

</code></pre>
<p>For Initilization you need PartnerCode, PartnerSecret and Host.</p>

<p><strong>PartnerCode</strong> (string)    : Provided by Pasarpolis for Authentication.</p>

<p><strong>PartnerSecret</strong> (string)  : Secret Key provided by Pasarpolis.</p>

<p><strong>Host</strong> (string)           : Fully qualified domain name as specified below.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Testing:    https://integrations-testing.pasarpolis.com</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Sandbox:    https://integrations-sandbox.pasarpolis.com</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;Production: https://integrations.pasarpolis.com</p>

<aside class="notice">
Initialize the client before calling any functionality of SDK else it will raise error.<br/>
Please make sure you initialize client only once i.e. at start of your app else it will raise error.
</aside>
<h1 id='guide'>Guide</h1><h2 id='travel-protection'>Travel Protection</h2><h3 id='urls'>URLs</h3>
<p>You can access Travel Protection API using these URLS :</p>

<table><thead>
<tr>
<th>Environment</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>Sandbox</td>
<td>https://integrations-sandbox.pasarpolis.com</td>
</tr>
<tr>
<td>Production</td>
<td>https://integrations.pasarpolis.com</td>
</tr>
</tbody></table>
<h3 id='api-routes'>API Routes</h3>
<table><thead>
<tr>
<th>Endpoint</th>
<th>HTTP Method</th>
<th></th>
<th>Link</th>
</tr>
</thead><tbody>
<tr>
<td>/api/v2/product/travel-protection/packages/</td>
<td>GET</td>
<td>Get available travel protection packages</td>
<td>click <a href="#travel-protection-packages-api">here</a></td>
</tr>
<tr>
<td>/api/v2/createpolicy/</td>
<td>POST</td>
<td>Send travel protection application data to generate policy</td>
<td>click <a href="#travel-protection-registration-api">here</a></td>
</tr>
<tr>
<td>/api/v2/policystatus/</td>
<td>POST</td>
<td>Check Statuses of given policies</td>
<td>click <a href="#travel-protection-status-api">here</a></td>
</tr>
</tbody></table>
<h1 id='api-references'>API References</h1><h2 id='travel-protection-packages-api'>Travel Protection Packages API</h2>
<blockquote>
<p>Example code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"pasarpolis_sdk"</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="o">=</span><span class="s2">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="kp">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="no">Pasarpolis</span><span class="o">::</span><span class="no">Policy</span><span class="p">.</span><span class="nf">create_policy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">reference_number</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">application_number</span>

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">pasarpolis</span> <span class="kn">import</span> <span class="n">Policy</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="n">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="n">create_policy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">reference_number</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">application_number</span><span class="p">)</span>


</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.models.Policy</span><span class="o">;</span>

<span class="k">try</span> <span class="o">{</span>
  <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"Jacob"</span><span class="o">);</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_property"</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>
  <span class="n">Policy</span> <span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="na">createPolicy</span><span class="o">(</span><span class="s">"travel-protection"</span><span class="o">,</span> <span class="n">params</span><span class="o">);</span>  
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">referenceNumber</span><span class="o">);</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">applicationNumber</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span>  <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Error Handling part</span>
<span class="o">}</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="n">pasarpolis_models</span><span class="x"> </span><span class="s">"gitlab.com/pasarpolis/go-sdk/models"</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
</span><span class="p">)</span><span class="x">


</span><span class="n">params</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{};</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="no">true</span><span class="x">
</span><span class="n">policy</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pasarpolis_models</span><span class="o">.</span><span class="n">CreatePolicy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span><span class="x"> </span><span class="n">params</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">referenceNumber</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">applicationNumber</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">Host</span><span class="o">&gt;</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">packageName</span> <span class="o">=</span> <span class="s1">'travel-protection'</span>
<span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"note"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"travel_destination"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">createPolicy</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">createPolicy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="nx">params</span><span class="p">)</span>

<span class="cm">/** It will give response as promise */</span> 
<span class="nx">createPolicy</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>

</code></pre>
<blockquote>
<p>The above code snippet returns would return:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">  
   </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"package_name"</span><span class="p">:</span><span class="s2">"PLAN B DOMESTIK ROUNDTRIP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"package_no"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="s2">"premium"</span><span class="p">:</span><span class="mi">45000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accidental_death_and_disablement"</span><span class="p">:</span><span class="mi">300000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"loss_or_damage_baggage_and_personal_effect"</span><span class="p">:</span><span class="mi">7500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"baggage_delay"</span><span class="p">:</span><span class="mi">1500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"travel_delay"</span><span class="p">:</span><span class="mi">1500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"loss_of_travel_document"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"flight_misconnection"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medical_expenses_accident_sickness"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"travel_destination"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"benefits"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"300,000,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Meninggal Dunia &amp;amp; Cacat Tetap akibat kecelakaan"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"7,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Kehilangan atau kerusakan Bagasi &amp;amp; harta benda Pribadi"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"1,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Keterlambatan Bagasi, min 4 jam"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"1,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Keterlambatan Perjalanan, min 4 jam"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"package_name"</span><span class="p">:</span><span class="s2">"PLAN A OVERSEAS ONE WAY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"package_no"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"premium"</span><span class="p">:</span><span class="mi">90000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"accidental_death_and_disablement"</span><span class="p">:</span><span class="mi">500000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"loss_or_damage_baggage_and_personal_effect"</span><span class="p">:</span><span class="mi">12500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"baggage_delay"</span><span class="p">:</span><span class="mi">2500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"travel_delay"</span><span class="p">:</span><span class="mi">2500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"loss_of_travel_document"</span><span class="p">:</span><span class="mi">3500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"flight_misconnection"</span><span class="p">:</span><span class="mi">1500000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"medical_expenses_accident_sickness"</span><span class="p">:</span><span class="mi">500000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"travel_destination"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"benefits"</span><span class="p">:[</span><span class="w">  
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"500,000,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Meninggal Dunia &amp;amp; Cacat Tetap akibat kecelakaan"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"500,000,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Medical Expenses due to accident and sickness"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"12,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Kehilangan atau kerusakan Bagasi &amp;amp; harta benda Pribadi"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"2,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Keterlambatan Bagasi, min 4 jam"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"2,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Keterlambatan Perjalanan, min 4 jam"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"3,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Kehilangan Dokumen Perjalanan"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w">  
            </span><span class="s2">"TSI"</span><span class="p">:</span><span class="s2">"1,500,000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Description"</span><span class="p">:</span><span class="s2">"Ketidaksesuaian Penerbangan Lanjutan"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>Get all travel protection packages from insurance company</p>

<table><thead>
<tr>
<th>Endpoint</th>
<th>HTTP Method</th>
<th>Definition</th>
</tr>
</thead><tbody>
<tr>
<td>/api/v2/product/travel-protection/packages/</td>
<td>GET</td>
<td>Get available travel protection packages</td>
</tr>
</tbody></table>
<h2 id='travel-protection-registration-api'>Travel Protection Registration API</h2>
<blockquote>
<p>Example code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"pasarpolis_sdk"</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="o">=</span><span class="s2">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="kp">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="no">Pasarpolis</span><span class="o">::</span><span class="no">Policy</span><span class="p">.</span><span class="nf">create_policy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">reference_number</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">application_number</span>

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">pasarpolis</span> <span class="kn">import</span> <span class="n">Policy</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="n">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="n">create_policy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">reference_number</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">application_number</span><span class="p">)</span>


</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.models.Policy</span><span class="o">;</span>

<span class="k">try</span> <span class="o">{</span>
  <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"Jacob"</span><span class="o">);</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_property"</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>
  <span class="n">Policy</span> <span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="na">createPolicy</span><span class="o">(</span><span class="s">"travel-protection"</span><span class="o">,</span> <span class="n">params</span><span class="o">);</span>  
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">referenceNumber</span><span class="o">);</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">applicationNumber</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span>  <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Error Handling part</span>
<span class="o">}</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="n">pasarpolis_models</span><span class="x"> </span><span class="s">"gitlab.com/pasarpolis/go-sdk/models"</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
</span><span class="p">)</span><span class="x">


</span><span class="n">params</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{};</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="no">true</span><span class="x">
</span><span class="n">policy</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pasarpolis_models</span><span class="o">.</span><span class="n">CreatePolicy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span><span class="x"> </span><span class="n">params</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">referenceNumber</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">applicationNumber</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">Host</span><span class="o">&gt;</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">packageName</span> <span class="o">=</span> <span class="s1">'travel-protection'</span>
<span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"note"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"travel_destination"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">createPolicy</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">createPolicy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="nx">params</span><span class="p">)</span>

<span class="cm">/** It will give response as promise */</span> 
<span class="nx">createPolicy</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>

</code></pre>
<blockquote>
<p>Sample JSON Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"product"</span><span class="p">:</span><span class="s2">"travel-protection"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A259"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"policy_insured"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Male"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jl Soekarno Hatta"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"date_of_birth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1987-09-09"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jakarta"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zip_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08231986121"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"handphone_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"081238921321"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@mail.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"policy_holder_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"insured_status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"policy_beneficiary"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"relationship"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"flight_information"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"airport_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CGK"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"flight_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JT2014"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JAKARTA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"departure_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-08 11:00:00"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"airport_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SOC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"flight_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JT213"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SOLO"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"departure_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-10 09:00:00"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"booking_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inception_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-07"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"package_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"travel_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transit_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"travel_destination"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"trip_reason"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above code snippet returns would return:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"application_no"</span><span class="p">:</span><span class="s2">"APP-000008152"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ref"</span><span class="p">:</span><span class="s2">"e30ef12cafa6007868ad67fe3b6ee82095f8174e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Travel company or provider can register their passenger for travel insurance.</p>
<h3 id='definition'>Definition</h3>
<table><thead>
<tr>
<th>Endpoint</th>
<th>HTTP Method</th>
<th>Definition</th>
</tr>
</thead><tbody>
<tr>
<td>/api/v2/createpolicy/</td>
<td>POST</td>
<td>Send travel protection application data to generate policy</td>
</tr>
</tbody></table>
<h3 id='json-request-body-data'>JSON Request Body Data:</h3>
<p><strong>Main attribute</strong></p>

<table><thead>
<tr>
<th>JSON Attribute</th>
<th>Definition</th>
<th>Required</th>
<th>Validation</th>
</tr>
</thead><tbody>
<tr>
<td>product</td>
<td>&quot;travel-protection&quot;</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>reference_id</td>
<td>reference id from to uniquely identify a request, must unique for every travel protection registration</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>policy_insured</td>
<td>Person who will be insured by insurance</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>policy_beneficiary</td>
<td>Person who will receive the death benefit in the event of the insured death</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>flight_information</td>
<td>Flight Information. <strong>Possible Values</strong>: (1,2,3) 0 =&gt; (Departure) 1 =&gt; (Departure Transit) 2 =&gt; (Return) 3 =&gt; (Return Transit)</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>booking_code</td>
<td>Passenger flight booking code</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>inception_date</td>
<td>Initial period of insurance coverage (YYYY-MM-DD)</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>package_id</td>
<td>travel protection package id. <strong>Possible Values</strong>: (1,2,3,4,5,6,7,8,9,10) 1 =&gt; 1 =&gt; PLAN A DOMESTIK ONEWAY , 2 =&gt; PLAN B DOMESTIK ONEWAY , 3 =&gt; PLAN A DOMESTIK ROUNDTRIP , 4 =&gt; PLAN B DOMESTIK ROUNDTRIP , 5 =&gt; PLAN A OVERSEAS ONE WAY , 6 =&gt; PLAN A OVERSEAS ROUNDTRIP , 7 =&gt; PLAN C OVERSEAS ONE WAY , 8 =&gt; PLAN C OVERSEAS ROUNDTRIP , 9 =&gt; PLAN B OVERSEAS ONE WAY , 10 =&gt; PLAN B OVERSEAS ROUNDTRIP</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>travel_type</td>
<td>Travel type to know wether the passenger have one way trip or round trip. <strong>Possible Values</strong>: (1, 2)    1 =&gt; (One way trip), 2 =&gt;(Round trip)</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>transit_type</td>
<td>Transit type to know what transits the passenger&#39;s flight has. <strong>Possible Values</strong>: (0,1,2,3)  0 =&gt; (No transits), 1 =&gt; (Transit on departure), 2 =&gt; (Transit on return), 3 =&gt; (Transit on both departure and return)</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>travel_destination</td>
<td>passenger travel destination <strong>Possible Values</strong>: (1,2) 1 =&gt; (Domestic flight in Indonesia), 2 =&gt; (International flight)</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>trip_reason</td>
<td>passenger trip reason. <strong>Possible Values</strong> (1,2,3,4,5,6)  1 =&gt; (Wisata), 2 =&gt; (Bisnis), 3 =&gt; (Kunjungan Keluarga), 4 =&gt; (Seminar), 5 =&gt; (Training), 6 =&gt; (Tugas Kantor)</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>note</td>
<td>Note for description</td>
<td>No</td>
<td></td>
</tr>
</tbody></table>

<aside class="notice">If package is for domestic flight, then travel_destination value must be 1 (Domestic flight in Indonesia) - If package is for international flight, then travel_destination value must be 2 (International flight)
</aside>

<p><strong>policy_insured attribute</strong></p>

<table><thead>
<tr>
<th>JSON Attribute</th>
<th>Definition</th>
<th>Required</th>
<th>Validation</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>insured name</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>gender</td>
<td>insured</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>date_of_birth</td>
<td>insured date of birth (YYYY-MM-DD)</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td>identity_type</td>
<td>the identity used in travel protection registration <strong>Possible Values:</strong> 1 =&gt; (KTP), 2 =&gt; (SIM), 3 =&gt; (PASSPORT)</td>
<td>No</td>
<td>Max length 100</td>
</tr>
<tr>
<td>address</td>
<td>insured address</td>
<td>Yes</td>
<td>Max length 500</td>
</tr>
<tr>
<td>city</td>
<td>city where insured live</td>
<td>Yes</td>
<td>Max length 200</td>
</tr>
<tr>
<td>zip_code</td>
<td>insured postal code</td>
<td>Yes</td>
<td>Max length 100</td>
</tr>
<tr>
<td>phone_no</td>
<td>insured phone number</td>
<td>Yes</td>
<td>Max length 100</td>
</tr>
<tr>
<td>handphone_no</td>
<td>insured handphone number</td>
<td>No</td>
<td>Max length 100</td>
</tr>
<tr>
<td>email</td>
<td>insured email address</td>
<td>Yes</td>
<td>Max length 200</td>
</tr>
<tr>
<td>policy_holder_status</td>
<td>status to verify insured is a policy holder <strong>Possible Values:</strong> 1 =&gt; (Policy Holder), 2 =&gt; (Participant)</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>insured_status</td>
<td>insured family status <strong>Possible Values:</strong> 1 =&gt; (Insured), 2 =&gt; (Spouse), 3 =&gt; (Child) <strong>NOTE:</strong> If policy_holder_status is 1, then insured_status must be 1 (Insured) </td>
<td>Yes</td>
<td></td>
</tr>
</tbody></table>

<p><strong>policy_beneficiary attribute</strong></p>

<table><thead>
<tr>
<th>JSON Attribute</th>
<th>Definition</th>
<th>Required</th>
<th>Validation</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>benficary insurance name</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>relationship</td>
<td>beneficiary relationship with policy holder <strong>Possible Values:</strong> (1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21) 1 =&gt; (Adik), 2 =&gt; (Anak), 3 =&gt; (Ayah), 4 =&gt; (Cucu), 5 =&gt; (Dealer), 6 =&gt; (Ibu), 7 =&gt; (Istri), 8 =&gt; (Kakak), 9 =&gt; (Kakek), 10 =&gt; (Keponakan), 11 =&gt; (Kerabat), 12 =&gt; (Kreditur), 13 =&gt; (Lembaga Pendidikan), 14(Majikan =&gt;), 15 =&gt; (Nenek), 16 =&gt; (Orang Tua), 17 =&gt; (Perusahaan =&gt;), 18 =&gt; (Pimpinan), 19 =&gt; (Saudara), 20 =&gt; (Sepupu), 21 =&gt; (Suami)</td>
<td>Yes</td>
<td></td>
</tr>
</tbody></table>
<h2 id='travel-protection-status-api'>Travel Protection Status API</h2>
<blockquote>
<p>Example code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"pasarpolis_sdk"</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="o">=</span><span class="s2">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="kp">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="no">Pasarpolis</span><span class="o">::</span><span class="no">Policy</span><span class="p">.</span><span class="nf">create_policy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">reference_number</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">application_number</span>

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">pasarpolis</span> <span class="kn">import</span> <span class="n">Policy</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="n">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="n">create_policy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">reference_number</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">application_number</span><span class="p">)</span>


</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.models.Policy</span><span class="o">;</span>

<span class="k">try</span> <span class="o">{</span>
  <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"Jacob"</span><span class="o">);</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_property"</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>
  <span class="n">Policy</span> <span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="na">createPolicy</span><span class="o">(</span><span class="s">"travel-protection"</span><span class="o">,</span> <span class="n">params</span><span class="o">);</span>  
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">referenceNumber</span><span class="o">);</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">applicationNumber</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span>  <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Error Handling part</span>
<span class="o">}</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="n">pasarpolis_models</span><span class="x"> </span><span class="s">"gitlab.com/pasarpolis/go-sdk/models"</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
</span><span class="p">)</span><span class="x">


</span><span class="n">params</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{};</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="no">true</span><span class="x">
</span><span class="n">policy</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pasarpolis_models</span><span class="o">.</span><span class="n">CreatePolicy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span><span class="x"> </span><span class="n">params</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">referenceNumber</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">applicationNumber</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">Host</span><span class="o">&gt;</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">packageName</span> <span class="o">=</span> <span class="s1">'travel-protection'</span>
<span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"note"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"travel_destination"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">createPolicy</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">createPolicy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="nx">params</span><span class="p">)</span>

<span class="cm">/** It will give response as promise */</span> 
<span class="nx">createPolicy</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>

</code></pre>
<blockquote>
<p>Sample URL Request body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">#Body</span><span class="w"> </span><span class="err">accepts</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">array</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">references</span><span class="w"> </span><span class="err">returned</span><span class="w"> </span><span class="err">from</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">application</span><span class="w"> </span><span class="err">post</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="s2">"ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ref1"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>The above code snippet returns would return:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ref1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"application_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APP-000000XXX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"document_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://sampledomain.com/pid.html"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"policy_no"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000XXXX"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issue_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-16 07:37:38"</span><span class="w">
</span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">

</span></code></pre>
<p>Check the statuses of given policies</p>
<h3 id='definition-2'>Definition</h3>
<table><thead>
<tr>
<th>Endpoint</th>
<th>HTTP Method</th>
<th>Definition</th>
</tr>
</thead><tbody>
<tr>
<td>/api/v2/policystatus/</td>
<td>POST</td>
<td>Check statuses of given policies</td>
</tr>
</tbody></table>
<h1 id='policy'>Policy</h1><h2 id='create-policy'>Create Policy</h2>
<blockquote>
<p>Example code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s2">"pasarpolis_sdk"</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]</span><span class="o">=</span><span class="s2">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s2">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="kp">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="no">Pasarpolis</span><span class="o">::</span><span class="no">Policy</span><span class="p">.</span><span class="nf">create_policy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">reference_number</span>
<span class="nb">puts</span> <span class="n">policy</span><span class="p">.</span><span class="nf">application_number</span>

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">pasarpolis</span> <span class="kn">import</span> <span class="n">Policy</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span>
<span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="n">true</span>
<span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="n">create_policy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">reference_number</span><span class="p">,</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">application_number</span><span class="p">)</span>


</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.models.Policy</span><span class="o">;</span>

<span class="k">try</span> <span class="o">{</span>
  <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"Jacob"</span><span class="o">);</span>
  <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"last_property"</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>
  <span class="n">Policy</span> <span class="n">policy</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="na">createPolicy</span><span class="o">(</span><span class="s">"travel-protection"</span><span class="o">,</span> <span class="n">params</span><span class="o">);</span>  
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">referenceNumber</span><span class="o">);</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policy</span><span class="o">.</span><span class="na">applicationNumber</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span>  <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Error Handling part</span>
<span class="o">}</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="n">pasarpolis_models</span><span class="x"> </span><span class="s">"gitlab.com/pasarpolis/go-sdk/models"</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
</span><span class="p">)</span><span class="x">


</span><span class="n">params</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{};</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span><span class="o">=</span><span class="s">"Jacob"</span><span class="x">
</span><span class="n">params</span><span class="p">[</span><span class="s">"last_property"</span><span class="p">]</span><span class="o">=</span><span class="no">true</span><span class="x">
</span><span class="n">policy</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">pasarpolis_models</span><span class="o">.</span><span class="n">CreatePolicy</span><span class="p">(</span><span class="s">"travel-protection"</span><span class="p">,</span><span class="x"> </span><span class="n">params</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">referenceNumber</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policy</span><span class="o">.</span><span class="n">applicationNumber</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">PartnerCode</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">PartnerSecret</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">Host</span><span class="o">&gt;</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">packageName</span> <span class="o">=</span> <span class="s1">'travel-protection'</span>
<span class="kr">const</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"note"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
    <span class="s2">"travel_destination"</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">createPolicy</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">createPolicy</span><span class="p">(</span><span class="s2">"travel-protection"</span><span class="p">,</span> <span class="nx">params</span><span class="p">)</span>

<span class="cm">/** It will give response as promise */</span> 
<span class="nx">createPolicy</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>

</code></pre>
<blockquote>
<p>The above code snippet returns would return:</p>
</blockquote>
<pre class="highlight plaintext"><code>d77d436ad9485b86b8a0c18c3d2f70f77a10c43d
APP-000000224

</code></pre>
<p>The above action will create a new policy</p>

<p>For policy creation you will need Product and Params as parameters</p>

<p>where:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>Product</strong> : Type of product for which policy is being created.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>Params</strong> : Product specific data to be sent.</p>

<aside class="notice">
Signature of every product specific data is provided <a href="https://gitlab.com/pasarpolis/pasarpolis-sdk-java/tree/master/product_type_doc"> here </a>
</aside>

<p>It will return a Policy object which contains:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>reference_number</strong> (string): Hexadecimal number provided by Pasarpolis for future reference.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>application_number</strong> (string): Number provided for future reference.</p>
<h2 id='get-policy-status'>Get Policy Status</h2>
<blockquote>
<p>Example code</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'pasarpolis_sdk'</span>


<span class="n">refs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="p">]</span>
<span class="n">policies</span> <span class="o">=</span> <span class="no">Pasarpolis</span><span class="o">::</span><span class="no">Policy</span><span class="p">.</span><span class="nf">get_policy_status</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">policies</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">pasarpolis</span> <span class="kn">import</span> <span class="n">Policy</span>


<span class="n">refs</span> <span class="o">=</span> <span class="p">[</span><span class="s">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="p">]</span>
<span class="n">policies</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="n">get_policy_status</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">policies</span><span class="p">)</span>

</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.pasarpolis.sdk.models.Policy</span><span class="o">;</span>
<span class="k">try</span> <span class="o">{</span>  
  <span class="n">String</span><span class="o">[]</span> <span class="n">refs</span> <span class="o">=</span> <span class="o">{</span><span class="s">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="o">};</span>
  <span class="n">Policy</span><span class="o">[]</span> <span class="n">policies</span> <span class="o">=</span> <span class="n">Policy</span><span class="o">.</span><span class="na">getPolicyStatus</span><span class="o">(</span><span class="n">refs</span><span class="o">);</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">policies</span><span class="o">);</span>
<span class="o">}</span><span class="k">catch</span><span class="o">(</span><span class="n">Exception</span>  <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// Error Handling part</span>
<span class="o">}</span>

</code></pre><pre class="highlight go tab-go"><code><span class="k">import</span><span class="p">(</span><span class="x">
  </span><span class="n">pasarpolis_models</span><span class="x"> </span><span class="s">"gitlab.com/pasarpolis/go-sdk/models"</span><span class="x">
  </span><span class="s">"fmt"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="n">String</span><span class="p">[]</span><span class="x"> </span><span class="n">refs</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="p">{</span><span class="s">"d77d436ad9485b86b8a0c18c3d2f70f77a10c43d"</span><span class="p">};</span><span class="x">
</span><span class="n">policies</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">pasarpolis_models</span><span class="o">.</span><span class="n">GetPolicyStatus</span><span class="p">(</span><span class="n">refs</span><span class="p">);</span><span class="x">
</span><span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">policies</span><span class="p">);</span><span class="x">

</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">sdk</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pasarpolis-sdk-nodejs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">sdk</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s2">"DummyPartnerCode"</span><span class="p">,</span> <span class="s2">"DummyPartnerSecret"</span><span class="p">,</span> <span class="s2">"https://integrations.pasarpolis.com"</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">getPolicyStatus</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getPolicyStatus</span><span class="p">(</span><span class="s2">"48fc2801e487af79ef311621f63e4133c"</span><span class="p">)</span>

<span class="cm">/** It will give response as promise */</span> 
<span class="nx">getPolicyStatus</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">))</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">))</span>


</code></pre>
<blockquote>
<p>The above will return:</p>
</blockquote>
<pre class="highlight plaintext"><code>[ 
    { 
        ref: '48fc2801e487af79ef311621f63e4133c',
        application_no: 'APP-000000XXX',
        document_url: 'url',
        policy_no: 'XXX',
        status_code: 2,
        status: 'COMPLETED',
        issue_date: '2018-12-10 07:34:12' 
    } 
]
</code></pre>
<p>Get policy status will give status of the policy created by providing policy reference number. </p>

<p>It will return array of policies object being queried for.</p>

<p>where:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>ReferenceNumbers</strong> : An array of string containing reference numbers.</p>

<p>It will return an array of Policy objects. Each Policy object contains:</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>reference_number</strong> (string): Hexadecimal number provided by Pasarpolis for future reference.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>application_number</strong> (string): Number provided for future reference.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>document_url</strong> (string): Url for policy document (if any).</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>policy_number</strong> (string): Number for policy.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>status</strong> (string): Status of a given policy.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong>status_code</strong> (integer): Status code of a given policy.</p>
<h1 id='errors'>Errors</h1>
<p>Pasarpolis SDK uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request sucks</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- Forbidden</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified policy could not be found</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
